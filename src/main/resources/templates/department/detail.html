<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <title>Department Details</title>
    <head th:insert="~{fragments/fragment::html_head}"></head>
</head>
<body>
<header th:replace="~{fragments/header :: header}"></header>

<div class="container my-4 pb-5">
    <br>
    <h2>Department name:  <span th:text="${department.name}"></span></h2>
    <br>
    <h4>Statistics:</h4>
    <table class="table">
        <tr>
            <th>Total Achievements:</th>
            <td th:text="${totalAchievements}"></td>
        </tr>
        <tr>
            <th>Total Disciplines:</th>
            <td th:text="${totalDisciplines}"></td>
        </tr>
        <tr>
            <th>Reward Score:</th>
            <td th:text="${rewardScore}"></td>
        </tr>
        <tr>
            <th>Detail:</th>
            <td>
                <a th:href="@{/scores/department/{id}(id=${department.id})}">
                    See
                </a>
            </td>
        </tr>
    </table>
    <br>
    <h4>Employee list:</h4>
    <table class="table table-bordered">
        <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Birthday</th>
            <th>Email</th>
            <th>Phone</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="employee : ${employees}">
            <td th:text="${employee.id}"></td>
            <td th:text="${employee.fullName}"></td>
            <td th:text="${#dates.format(employee.birthDate, 'dd/MM/yyyy')}"></td>
            <td th:text="${employee.email}"></td>
            <td th:text="${employee.phone}"></td>
        </tr>
        </tbody>
    </table>
    <div class="d-flex justify-content-between mt-4">
        <a th:href="@{/departments}" class="btn btn-secondary">
            <i class="bi bi-arrow-left"></i> Back to List
        </a>
        <a th:href="@{/departments/edit/{id}(id=${department.id})}" class="btn btn-warning">
            <i class="bi bi-pencil"></i> Edit
        </a>
    </div>
</div>

<footer th:replace="~{fragments/footer :: footer}"></footer>
</body>
</html>
